<h1 class="">How-to</h1><p>To deploy application, there are two main use cases. The first one is based on a share network, the second is based on a DVD distribution. These cases have their own constraints and answer to specific need. The main advantage to have a centralised application deploying system is to allow to a system administrator to have a consistency application park.</p><p>The use of a network share implies that the pc is connected to a local network, with a file server available. This use case is recommended for SOHO application deploying (less than 10 pc) and allows silent installation of patches or new applications. </p><p>The use of a DVD is attractive for use in a standalone non connected environment (e.g. Industrial PC or access control management console).</p><p>But, these two use cases comply with the following steps</p><ol><li><a class="tc-tiddlylink tc-tiddlylink-resolves" href="#How%20to%20tune%20your%20environment">Tune your environment </a></li><li><a class="tc-tiddlylink tc-tiddlylink-resolves" href="#How%20to%20build%20the%20application%20list">Build the application list to deploy</a></li><li><a class="tc-tiddlylink tc-tiddlylink-resolves" href="#How%20to%20build%20the%20medium">Build the medium</a></li><li>Deploy applications from a <a class="tc-tiddlylink tc-tiddlylink-missing" href="#%20%20How%20to%20deploy%20application%20from%20a%20DVD">DVD</a> or <a class="tc-tiddlylink tc-tiddlylink-missing" href="#%20How%20to%20deploy%20application%20through%20a%20network">Network share</a></li></ol><p>Additional how-to:</p><h1 class="">How to tune your environment</h1><p>By default, you have nothing to tune. The default value of <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#Environment%20Variables">environment variables</a> allows a working with the following features:</p><ul><li>all action, expect debug one, are only logged in a text file name  in the <code>%SystemRoot%</code> directory (typically ).</li><li>the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#applist">applist</a> files (at least ) are stored in the  directory located at the same level that the directory containing the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#appdeploy">appdeploy</a> script.</li></ul><p>If these features do not comply with your need, you must consider tuning the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#Environment%20Variables">environment variables</a>. The most efficient way to do that is to use <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#__init__">__init__</a> and <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#__exit__">__exit__</a> hook scripts. See  and  located in the directory containing the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#appdeploy">appdeploy</a> script. in to have examples.</p><ul><li>To change the location of <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#applist">applist</a> files and installers packages, you must tune the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#APP_STORE_DIR">APP_STORE_DIR</a> environment variable. </li><li>To change the level of message logged, you must tune the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#LOGLEVEL">LOGLEVEL</a> environment variable.</li><li>To receive an email with a summary and detailed information on actions done by lAppUpdate, you must tune the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#LOGMAIL">LOGMAIL</a> environment variable, and specifies your account mail configuration in <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#SMTP_SERVER">SMTP_SERVER</a> (eventually <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#SMTP_SERVER_PORT">SMTP_SERVER_PORT</a>) and <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#SYSADM_TO_ADDR">SYSADM_TO_ADDR</a> environment variables.</li><li>To run the script in an interactive (i.e. following installation actions in real time), you must tune the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#SILENT">SILENT</a> environment variable.</li></ul><p>Typical settings of <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#Environment%20Variables">environment variables</a> are detailed in the following How-to:</p><ul><li><a class="tc-tiddlylink tc-tiddlylink-missing" href="#How%20to%20make%20an%20applications%20deploying%20DVD">How to make an applications deploying DVD</a></li><li><a class="tc-tiddlylink tc-tiddlylink-missing" href="#How%20to%20deploy%20application%20through%20a%20network">How to deploy application through a network</a></li></ul><h1 class="">How to build the application list</h1><p>The <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#appdeploy">appdeploy</a> script use two <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#applist">applist</a> files to verify which applications were installed and if it needs to be updated: the first one is named  and <strong>must be exist</strong> even if it is empty; the second is named   where <code>&lt;set&gt;</code> is the argument passed to appdeploy on the command line (e.g. <code>.\appdeploy dummy</code>).</p><p>These files are <a class="tc-tiddlylink-external" href="http://en.wikipedia.org/wiki/Text_file" target="_blank">text file</a> complying with the <a class="tc-tiddlylink-external" href="http://en.wikipedia.org/wiki/Text_file#Standard_Windows_.txt_files" target="_blank">Windows standard</a>. So you can use any text editor (e.g. notepad++, vim...) to edit them. </p><p>In fact, you can have so much file as you want according to your needs. For example, you can have an <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#applist">applist</a> file per computer or a set of computer (e.g. children, purchasing department...). If you use a domain controller, you can match <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#applist">applist</a> files with your Organisational Units (OU).</p><p>By default, the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#applist">applist</a> files are stored in the  directory located at the same level that the directory containing the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#appdeploy">appdeploy</a> script. To change the location of <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#applist">applist</a> files and installers packages, you must tune the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#APP_STORE_DIR">APP_STORE_DIR</a> environment variable. </p><p>The <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#applist">applist topic</a> details the format of these files.</p><h1 class="">example</h1><pre><code>#appArch; appName; appVersion; appPackage; appArgs
   ; Adobe Reader XI - Français; 11.0.08; %APP_STORE_DIR%\AdobeReader\AdbeRdr11008_fr_FR.exe
x64; Java 7 Update 67 (64-bit); 7.0.670; %APP_STORE_DIR%\Java\jre-7u67-windows-x64.exe ; /s 
x86; 7-Zip 9.20; 9.20.00.0; %APP_STORE_DIR%\7-zip\7z920.msi</code></pre><h1 class="">How to build the medium</h1><p>The <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#appdeploy">appdeploy</a> script is designed to be independent from the used type of media. This can be a network share reached from its UNC name (e.g. ), a DVD or CD, a USB Stick or any removable media. Thus the media building is limited to file copy or to use your favourite CD/DVD burner utility. </p><p>The medium must contain the directory with installation packages according to the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="#APP_STORE_DIR">APP_STORE_DIR</a> environment variable and the following files from the  directory: </p><ul><li></li><li></li><li></li><li> <em>(optional)</em></li><li> <em>(optional)</em></li></ul><h2 class="">example</h2><p>The below block show a typical file tree for a media of deployment.</p><pre><code>\
├───appdeploy
│       appdeploy.cmd
│       _appfilter.vbs
│       _log2mail.vbs
│       __exit__.cmd
│       __init__.cmd
│       
└───appstore
    │   applist-all.txt
    │   applist-dummy.txt
    │   
    ├───dummy
    │       aninstaller.cmd
    │       aninstaller.msi
    │       postinstall.cmd
    │       
    └───extended dummy
            aninstaller.cmd
            postinstall.cmd</code></pre><hr><p><sub>This file was automatically generated by <a class="tc-tiddlylink-external" href="http://tiddlywiki.com/" target="_blank">TiddlyWiki</a>.</sub></p>